<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rotating Cube</title>
  <style>
    body, html {
      height: 100%;
      margin: 0;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #000;
    }
    canvas {
      display: block;
    }
  </style>
</head>
<body>
  <canvas id="cube"></canvas>
  <script>
    const canvas = document.getElementById('cube');
    const ctx = canvas.getContext('2d');

    let width, height;
    function resize() {
      width = window.innerWidth;
      height = window.innerHeight;
      canvas.width = width;
      canvas.height = height;
    }
    window.addEventListener('resize', resize);
    resize();

    const vertices = [
      {x: -1, y: -1, z: -1},
      {x:  1, y: -1, z: -1},
      {x:  1, y:  1, z: -1},
      {x: -1, y:  1, z: -1},
      {x: -1, y: -1, z:  1},
      {x:  1, y: -1, z:  1},
      {x:  1, y:  1, z:  1},
      {x: -1, y:  1, z:  1},
    ];

    const edges = [
      [0,1], [1,2], [2,3], [3,0],
      [4,5], [5,6], [6,7], [7,4],
      [0,4], [1,5], [2,6], [3,7]
    ];

    function rotateX(point, angle) {
      const cos = Math.cos(angle);
      const sin = Math.sin(angle);
      return {
        x: point.x,
        y: point.y * cos - point.z * sin,
        z: point.y * sin + point.z * cos,
      };
    }

    function rotateY(point, angle) {
      const cos = Math.cos(angle);
      const sin = Math.sin(angle);
      return {
        x: point.z * sin + point.x * cos,
        y: point.y,
        z: point.z * cos - point.x * sin,
      };
    }

    function project(point) {
      const distance = 3;
      const z = 1 / (distance - point.z);
      return {
        x: point.x * z * width / 2 + width / 2,
        y: -point.y * z * height / 2 + height / 2,
      };
    }

    let angleX = 0;
    let angleY = 0;

    function draw() {
      ctx.clearRect(0, 0, width, height);
      const rotated = vertices.map(v => rotateX(rotateY(v, angleY), angleX));
      const projected = rotated.map(project);

      ctx.strokeStyle = '#0ff';
      ctx.lineWidth = 2;
      edges.forEach(([a,b]) => {
        ctx.beginPath();
        ctx.moveTo(projected[a].x, projected[a].y);
        ctx.lineTo(projected[b].x, projected[b].y);
        ctx.stroke();
      });

      angleX += 0.01;
      angleY += 0.01;

      requestAnimationFrame(draw);
    }

    draw();
  </script>
</body>
</html>
